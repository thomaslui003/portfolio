"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[70],{2070:function(e,t,o){o.r(t);var n=o(5893),a=o(7294),r=o(4250),i=o(9477),l=o(7836);t.default=()=>{let e=(0,a.useRef)(null),[t,o]=(0,a.useState)(""),s=(0,a.useRef)(0),d=(0,a.useRef)(0),c=(0,a.useRef)(Math.PI/4),u=(0,a.useRef)(0);return(0,a.useEffect)(()=>{if(!e.current)return;let t=new r.xsS;t.background=new r.Ilk(15790320);let n=new r.cPb(45,1,.1,1e3);n.position.set(3,2,3),n.lookAt(0,0,0);let a=new i.CP7({antialias:!0,alpha:!0,powerPreference:"high-performance"}),handleMouseMove=t=>{var o;let n=null===(o=e.current)||void 0===o?void 0:o.getBoundingClientRect();if(!n)return;s.current=(t.clientX-n.left)/n.width*2-1,d.current=(t.clientY-n.top)/n.height*2-1;let a=-15*Math.PI/180,r=105*Math.PI/180;c.current=Math.PI/4+s.current*Math.PI/2,c.current=Math.max(a,Math.min(r,c.current));let i=-10*Math.PI/180,l=10*Math.PI/180,h=(c.current-a)/(r-a);u.current=-d.current*(l-i)/2*(h>.5?1:-1),u.current=Math.max(i,Math.min(l,u.current))};a.shadowMap.enabled=!0,a.shadowMap.type=r.ntZ,a.setPixelRatio(window.devicePixelRatio),a.toneMapping=r.LY2,a.toneMappingExposure=1,a.outputColorSpace=r.KI_;let h=e.current,p=h.clientWidth,m=h.clientHeight;a.setSize(p,m),n.aspect=p/m,n.updateProjectionMatrix(),e.current.appendChild(a.domElement);let w=new r.Mig(16777215,3.5);t.add(w);let M=new r.Ox3(16777215,3.5);M.position.set(5,5,5),M.castShadow=!0,M.shadow.mapSize.width=2048,M.shadow.mapSize.height=2048,M.shadow.camera.near=.1,M.shadow.camera.far=500,t.add(M);let g=new r.Ox3(16777215,.8);g.position.set(-5,3,-5),t.add(g);let f=new l.E;f.load("/models/person.glb",e=>{console.log("Model loaded successfully:",e);let o=e.scene;o.traverse(e=>{e instanceof r.Kj0&&(e.castShadow=!0,e.receiveShadow=!0,e.material&&(e.material.envMapIntensity=1,e.material.needsUpdate=!0,e.material instanceof r.Wid&&(e.material.roughness=.5,e.material.metalness=.5)))});let i=new r.ZzF().setFromObject(o),l=i.getCenter(new r.Pa4),s=new r.ZAu;t.add(s),o.position.x=-l.x,o.position.y=-l.y+.8,o.position.z=-l.z;let d=i.getSize(new r.Pa4),h=Math.max(d.x,d.y,d.z);o.scale.multiplyScalar(2/h),s.add(o),s.position.y=.3,s.rotation.y=Math.PI/4,s.rotation.x=0;let animate=()=>{requestAnimationFrame(animate),s.rotation.y+=(c.current-s.rotation.y)*.1,s.rotation.x+=(u.current-s.rotation.x)*.1,a.render(t,n)};animate(),window.addEventListener("mousemove",handleMouseMove),console.log("Model position:",o.position),console.log("Group position:",s.position),console.log("Model scale:",o.scale),console.log("Model bounds:",i.min,i.max)},e=>{console.log(e.loaded/e.total*100+"% loaded")},e=>{console.error("Error loading model:",e),o("Error loading model: "+(e instanceof Error?e.message:String(e)))});let v=new ResizeObserver(()=>{if(!e.current)return;let t=e.current.clientWidth,o=e.current.clientHeight;n.aspect=t/o,n.updateProjectionMatrix(),a.setSize(t,o),a.setPixelRatio(window.devicePixelRatio)});return v.observe(h),()=>{var o;window.removeEventListener("mousemove",handleMouseMove),v.disconnect(),null===(o=e.current)||void 0===o||o.removeChild(a.domElement),t.clear()}},[]),(0,n.jsx)("div",{ref:e,style:{width:"100%",height:"100%"},children:t&&(0,n.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"red",background:"rgba(255, 255, 255, 0.8)",padding:"10px",borderRadius:"5px"},children:t})})}}}]);